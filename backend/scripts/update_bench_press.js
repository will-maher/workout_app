const { db } = require('../database');

// Data: [date, weight, reps] - dates already in YYYY-MM-DD format
const DATA = [
  ['2020-11-11', 90, 7], ['2020-11-11', 95, 6], ['2020-11-11', 95, 5], ['2020-11-11', 95, 5],
  ['2020-11-19', 100, 5], ['2020-11-19', 100, 5], ['2020-11-19', 100, 5], ['2020-11-19', 100, 5],
  ['2020-11-24', 105, 5], ['2020-11-24', 105, 5], ['2020-11-24', 107.5, 5], ['2020-11-24', 107.5, 5],
  ['2020-11-29', 110, 5], ['2020-11-29', 110, 5], ['2020-11-29', 112.5, 5], ['2020-11-29', 112.5, 5],
  ['2020-12-04', 100, 5], ['2020-12-04', 110, 5], ['2020-12-04', 110, 5], ['2020-12-04', 115, 5],
  ['2020-12-09', 110, 5], ['2020-12-09', 110, 5], ['2020-12-09', 115, 5], ['2020-12-09', 115, 5],
  ['2020-12-15', 110, 5], ['2020-12-15', 120, 3], ['2020-12-15', 120, 4], ['2020-12-15', 120, 5],
  ['2020-12-21', 100, 5], ['2020-12-21', 120, 5], ['2020-12-21', 120, 5], ['2020-12-26', 2, 5],
  ['2020-12-26', 110, 5], ['2021-01-03', 100, 5], ['2021-01-03', 120, 5], ['2021-01-03', 130, 3],
  ['2021-01-03', 122.5, 3], ['2021-01-08', 110, 5], ['2021-01-08', 125, 5], ['2021-01-08', 125, 5],
  ['2021-01-08', 125, 5], ['2021-01-13', 115, 3], ['2021-01-13', 135, 3], ['2021-01-18', 120, 5],
  ['2021-01-18', 130, 5], ['2021-01-18', 130, 5], ['2021-01-18', 130, 1], ['2021-01-23', 130, 3],
  ['2021-01-23', 135, 4], ['2021-01-29', 120, 1], ['2021-01-29', 140, 4], ['2021-01-29', 110, 5],
  ['2021-02-04', 130, 5], ['2021-02-04', 135, 6], ['2021-02-04', 110, 5], ['2021-02-04', 110, 7],
  ['2021-02-09', 100, 5], ['2021-02-09', 140, 5], ['2021-02-09', 120, 5], ['2021-02-09', 110, 4],
  ['2021-02-18', 120, 3], ['2021-02-18', 140, 1], ['2021-02-18', 100, 5], ['2021-02-22', 120, 1],
  ['2021-02-22', 140, 3], ['2021-02-22', 145, 1], ['2021-02-22', 100, 0], ['2021-02-28', 120, 2],
  ['2021-02-28', 130, 5], ['2021-02-28', 130, 5], ['2021-03-05', 120, 3], ['2021-03-05', 145, 2],
  ['2021-03-05', 145, 2], ['2021-03-05', 120, 4], ['2021-03-10', 120, 1], ['2021-03-10', 140, 1],
  ['2021-03-10', 150, 1], ['2021-03-15', 120, 1], ['2021-03-15', 142, 5], ['2021-03-15', 100, 5],
  ['2021-03-21', 120, 2], ['2021-03-21', 152, 1], ['2021-03-26', 120, 5], ['2021-03-26', 130, 1],
  ['2021-03-26', 130, 4], ['2021-03-26', 140, 2], ['2021-03-31', 120, 2], ['2021-03-31', 140, 3],
  ['2021-03-31', 120, 3], ['2021-04-06', 120, 1], ['2021-04-11', 130, 2], ['2021-04-11', 145, 2],
  ['2021-04-11', 130, 2], ['2021-04-11', 130, 5], ['2021-04-22', 130, 6], ['2021-04-22', 132, 5],
  ['2021-04-29', 120, 3], ['2021-04-29', 137.5, 3], ['2021-05-03', 130, 1], ['2021-05-03', 142, 1],
  ['2021-05-03', 152, 2], ['2021-05-08', 132, 6], ['2021-05-13', 142, 4], ['2021-05-13', 100, 8],
  ['2021-05-18', 140, 3], ['2021-05-18', 140, 1], ['2021-05-30', 100, 5], ['2021-05-30', 120, 2],
  ['2021-05-30', 130, 5], ['2021-05-30', 130, 5], ['2021-06-07', 140, 5], ['2021-06-07', 135, 2],
  ['2021-06-07', 120, 2], ['2021-06-18', 120, 3], ['2021-06-18', 130, 3], ['2021-06-18', 130, 3],
  ['2021-06-23', 120, 3], ['2021-06-23', 130, 5], ['2021-06-23', 130, 5], ['2021-06-28', 120, 3],
  ['2021-06-28', 130, 3], ['2021-06-28', 142, 2], ['2021-06-28', 3, 120], ['2021-07-03', 152, 1],
  ['2021-07-08', 135, 6], ['2021-07-08', 110, 5], ['2021-07-08', 110, 5], ['2021-07-08', 110, 5],
  ['2021-11-10', 110, 8], ['2021-11-10', 120, 5], ['2021-11-10', 110, 8], ['2021-11-15', 120, 4],
  ['2021-11-15', 125, 3], ['2021-11-19', 120, 5], ['2021-11-23', 120, 3], ['2021-11-30', 140, 3],
  ['2021-12-12', 130, 5], ['2021-12-16', 137, 4], ['2021-12-21', 140, 4], ['2021-12-25', 145, 1],
  ['2021-12-25', 130, 3], ['2021-12-29', 120, 5], ['2022-01-04', 135, 1], ['2022-01-08', 130, 5],
  ['2022-01-13', 140, 3], ['2022-01-13', 120, 5], ['2022-01-13', 120, 4], ['2022-01-17', 140, 1],
  ['2022-01-17', 150, 1], ['2022-01-17', 120, 4], ['2022-01-22', 132, 5], ['2022-01-27', 120, 3],
  ['2022-01-27', 140, 4], ['2022-02-01', 140, 1], ['2022-02-01', 150, 2], ['2022-02-01', 120, 3],
  ['2022-02-01', 120, 4], ['2022-02-05', 120, 3], ['2022-02-05', 140, 6], ['2022-02-05', 100, 5],
  ['2022-02-10', 120, 3], ['2022-02-10', 150, 3], ['2022-02-10', 120, 5], ['2022-02-16', 142, 5],
  ['2022-02-22', 150, 2], ['2022-02-27', 120, 5], ['2022-03-05', 142, 5], ['2022-03-05', 120, 3],
  ['2022-03-18', 120, 3], ['2022-03-18', 140, 1], ['2022-03-18', 150, 2], ['2022-03-27', 120, 3],
  ['2022-03-27', 130, 3], ['2022-03-27', 130, 5], ['2022-04-07', 100, 5], ['2022-04-07', 120, 5],
  ['2022-04-07', 130, 5], ['2022-04-11', 132.5, 5], ['2022-04-17', 120, 3], ['2022-04-17', 140, 3],
  ['2022-04-17', 120, 5], ['2022-04-23', 120, 1], ['2022-04-23', 100, 10], ['2022-04-28', 120, 3],
  ['2022-04-28', 140, 2], ['2022-04-28', 150, 2], ['2022-04-28', 125, 5], ['2022-05-04', 135, 5],
  ['2022-05-04', 120, 4], ['2022-05-04', 120, 2], ['2022-05-15', 145, 3], ['2022-05-20', 150, 2],
  ['2022-05-20', 130, 3], ['2022-05-27', 145, 4], ['2022-06-01', 130, 2], ['2022-06-01', 140, 5],
  ['2022-06-05', 120, 2], ['2022-06-05', 140, 1], ['2022-06-05', 150, 2], ['2022-06-05', 120, 4],
  ['2022-06-10', 130, 5], ['2022-06-10', 120, 5], ['2022-06-10', 120, 5], ['2022-06-15', 130, 7],
  ['2022-06-15', 130, 5], ['2022-06-15', 130, 3], ['2022-06-22', 140, 3], ['2022-06-22', 100, 5],
  ['2022-06-22', 100, 5], ['2022-06-28', 120, 3], ['2022-06-28', 130, 5], ['2022-07-03', 120, 3],
  ['2022-07-03', 130, 3], ['2022-07-03', 140, 5], ['2022-07-08', 120, 3], ['2022-07-08', 100, 3],
  ['2022-07-08', 100, 10], ['2022-07-12', 130, 5], ['2022-07-12', 100, 8], ['2022-07-19', 135, 5],
  ['2022-07-19', 135, 3], ['2022-07-19', 120, 10], ['2022-07-19', 120, 5], ['2022-08-01', 120, 5],
  ['2022-08-01', 120, 8], ['2022-08-06', 130, 5], ['2022-08-06', 120, 5], ['2022-08-11', 100, 5],
  ['2022-08-11', 120, 5], ['2022-08-11', 130, 5], ['2022-08-16', 100, 5], ['2022-08-16', 130, 3],
  ['2022-08-16', 140, 3], ['2022-08-16', 110, 8], ['2022-08-22', 100, 10], ['2022-08-22', 120, 5],
  ['2022-08-28', 110, 5], ['2022-08-28', 130, 2], ['2022-09-09', 130, 4], ['2022-09-13', 130, 5],
  ['2022-09-18', 130, 4], ['2022-09-18', 130, 4], ['2022-09-25', 120, 5], ['2022-09-25', 130, 6],
  ['2022-10-01', 120, 3], ['2022-10-01', 130, 1], ['2022-10-01', 140, 4], ['2022-10-01', 120, 4],
  ['2022-10-06', 120, 5], ['2022-10-06', 130, 5], ['2022-10-12', 120, 3], ['2022-10-12', 137, 5],
  ['2022-10-17', 120, 3], ['2022-10-17', 145, 3], ['2022-10-22', 100, 3], ['2022-10-22', 120, 1],
  ['2022-10-22', 135, 1], ['2022-10-22', 150, 2], ['2022-10-28', 130, 5], ['2022-10-28', 122, 5],
  ['2022-11-22', 135, 5], ['2022-11-22', 130, 4], ['2022-12-10', 130, 4], ['2023-01-16', 120, 5],
  ['2023-01-16', 130, 3], ['2023-01-16', 135, 3], ['2023-01-23', 120, 5], ['2023-03-01', 130, 3],
  ['2023-03-12', 100, 5], ['2023-03-12', 120, 5], ['2023-03-12', 130, 5], ['2023-03-12', 130, 3],
  ['2023-03-19', 120, 3], ['2023-03-19', 130, 3], ['2023-03-19', 135, 3], ['2023-03-19', 120, 5],
  ['2023-04-04', 100, 5], ['2023-04-04', 120, 5], ['2023-04-04', 130, 4], ['2023-04-04', 130, 2],
  ['2023-04-11', 130, 1], ['2023-04-11', 140, 1], ['2023-04-11', 145, 1], ['2023-04-11', 120, 4],
  ['2023-04-19', 140, 3], ['2023-04-19', 80, 3], ['2023-04-19', 80, 3], ['2023-05-02', 152, 1],
  ['2023-05-02', 130, 3], ['2023-05-02', 120, 5], ['2023-05-07', 129, 2], ['2023-05-07', 130, 5],
  ['2023-05-07', 120, 5], ['2023-06-15', 130, 4], ['2023-06-15', 130, 5], ['2023-06-22', 120, 3],
  ['2023-06-22', 130, 3], ['2023-06-22', 140, 3], ['2023-07-10', 100, 3], ['2023-07-10', 130, 3],
  ['2023-07-10', 140, 3], ['2023-07-18', 110, 3], ['2023-07-18', 130, 3], ['2023-07-18', 140, 4],
  ['2023-07-18', 130, 2], ['2023-07-25', 110, 3], ['2023-07-25', 142, 3], ['2023-08-05', 120, 1],
  ['2023-08-05', 140, 1], ['2023-08-05', 150, 1], ['2023-08-12', 120, 3], ['2023-08-12', 130, 5],
  ['2023-08-21', 120, 5], ['2023-08-31', 120, 3], ['2023-08-31', 140, 3], ['2023-08-31', 140, 2],
  ['2023-09-16', 137, 3], ['2023-09-16', 140, 4], ['2023-09-23', 120, 3], ['2023-09-23', 150, 1],
  ['2023-09-23', 120, 4], ['2023-09-26', 130, 1], ['2023-09-26', 142, 5], ['2023-09-26', 120, 0],
  ['2023-09-28', 120, 3], ['2023-09-28', 130, 5], ['2023-10-09', 130, 3], ['2023-10-09', 135, 5],
  ['2023-10-22', 135, 1], ['2023-10-22', 142, 4], ['2023-10-28', 145, 1], ['2023-10-28', 155, 1],
  ['2023-10-28', 130, 3], ['2023-10-28', 130, 4], ['2023-11-02', 135, 4], ['2023-11-02', 135, 5],
  ['2023-11-07', 145, 3], ['2023-11-07', 120, 3], ['2023-11-07', 120, 5], ['2023-11-18', 140, 1],
  ['2023-11-18', 155, 1], ['2023-11-18', 137, 4], ['2023-11-23', 135, 5], ['2023-11-23', 130, 4],
  ['2023-11-23', 120, 4], ['2023-11-23', 120, 3], ['2023-11-28', 135, 1], ['2023-11-28', 145, 2],
  ['2023-11-28', 100, 5], ['2023-12-02', 120, 1], ['2023-12-02', 157, 1], ['2023-12-02', 120, 9],
  ['2023-12-06', 140, 5], ['2023-12-11', 147, 3], ['2023-12-16', 120, 1], ['2023-12-16', 150, 2],
  ['2023-12-16', 120, 3], ['2023-12-21', 130, 5], ['2023-12-21', 120, 5], ['2023-12-31', 120, 3],
  ['2023-12-31', 135, 1], ['2023-12-31', 147, 3], ['2024-01-06', 130, 1], ['2024-01-06', 140, 1],
  ['2024-01-06', 152.5, 2], ['2024-01-12', 142, 3], ['2024-01-23', 100, 3], ['2024-01-23', 150, 1],
  ['2024-01-23', 160, 1], ['2024-01-30', 130, 2], ['2024-01-30', 142, 5], ['2024-02-04', 140, 1],
  ['2024-02-04', 147, 3], ['2024-02-09', 140, 1], ['2024-02-09', 150, 1], ['2024-02-15', 120, 3],
  ['2024-02-15', 120, 3], ['2024-02-20', 140, 3], ['2024-02-25', 140, 1], ['2024-02-25', 142.5, 4],
  ['2024-03-02', 140, 1], ['2024-03-02', 145, 3], ['2024-03-09', 120, 5], ['2024-03-09', 142.5, 4.5],
  ['2024-03-14', 120, 3], ['2024-03-14', 147.5, 3], ['2024-03-20', 120, 1], ['2024-03-20', 140, 1],
  ['2024-03-20', 155, 1], ['2024-03-27', 140, 3], ['2024-03-27', 110, 5], ['2024-03-27', 110, 5],
  ['2024-04-04', 130, 5], ['2024-04-04', 130, 5], ['2024-04-09', 140, 1], ['2024-04-09', 145, 3],
  ['2024-04-20', 140, 1], ['2024-04-20', 150, 1], ['2024-04-24', 140, 5], ['2024-04-29', 130, 3],
  ['2024-04-29', 142.5, 3], ['2024-05-04', 140, 1], ['2024-05-04', 150, 1], ['2024-05-04', 160, 1],
  ['2024-05-09', 120, 5], ['2024-05-09', 120, 4], ['2024-05-14', 145, 3], ['2024-05-14', 120, 4],
  ['2024-05-14', 120, 4], ['2024-05-24', 120, 3], ['2024-05-24', 120, 3], ['2024-05-30', 147.5, 3],
  ['2024-06-04', 155, 0], ['2024-06-14', 120, 5], ['2024-06-14', 120, 3], ['2024-06-19', 140, 1],
  ['2024-06-19', 145, 3], ['2024-06-23', 120, 1], ['2024-06-23', 140, 1], ['2024-06-23', 152.5, 1],
  ['2024-07-05', 5, 4], ['2024-07-05', 5, 4], ['2024-07-05', 5, 6], ['2024-07-10', 125, 5],
  ['2024-07-10', 125, 5], ['2024-07-10', 120, 5], ['2024-07-14', 125, 6], ['2024-07-14', 125, 6],
  ['2024-07-14', 120, 6], ['2024-07-19', 2.5, 5], ['2024-07-19', 125, 5], ['2024-07-19', 125, 5],
  ['2024-07-19', 125, 3], ['2024-07-23', 2.5, 3], ['2024-07-23', 125, 5], ['2024-07-23', 125, 5],
  ['2024-07-23', 125, 6], ['2024-07-28', 5, 5], ['2024-07-28', 125, 5], ['2024-07-28', 125, 5],
  ['2024-07-28', 120, 6], ['2024-08-02', 5, 3], ['2024-08-02', 125, 5], ['2024-08-02', 125, 3],
  ['2024-08-02', 120, 6], ['2024-08-06', 5, 0], ['2024-08-06', 80, 10], ['2024-08-11', 142.5, 5],
  ['2024-08-11', 125, 6], ['2024-08-11', 125, 6], ['2024-08-16', 150, 3], ['2024-08-16', 125, 6],
  ['2024-08-16', 130, 5], ['2024-08-21', 140, 1], ['2024-08-21', 157.5, 1], ['2024-08-21', 120, 4],
  ['2024-08-21', 120, 2], ['2024-08-25', 145, 3], ['2024-09-02', 142.5, 6], ['2024-09-02', 125, 3],
  ['2024-09-02', 120, 4], ['2024-09-07', 150, 1], ['2024-09-07', 120, 5], ['2024-09-07', 120, 5],
  ['2024-09-07', 120, 5], ['2024-09-12', 145, 2], ['2024-09-12', 120, 8], ['2024-09-12', 110, 8],
  ['2024-09-12', 110, 8], ['2024-09-18', 140, 4], ['2024-09-26', 140, 5], ['2024-09-26', 130, 5],
  ['2024-09-26', 120, 9], ['2024-09-30', 145, 4], ['2024-09-30', 120, 4], ['2024-09-30', 120, 5],
  ['2024-10-05', 147.5, 2], ['2024-10-19', 140, 6], ['2024-10-19', 120, 4], ['2024-10-23', 147.5, 3],
  ['2024-10-23', 120, 3], ['2024-10-31', 155, 1], ['2024-11-13', 140, 6], ['2024-11-13', 120, 6],
  ['2024-11-17', 150, 3], ['2024-11-17', 120, 5], ['2024-11-23', 130, 4], ['2024-11-23', 130, 5],
  ['2024-11-23', 130, 4], ['2024-11-27', 145, 4], ['2024-12-01', 130, 1], ['2024-12-05', 100, 15],
  ['2024-12-05', 105, 12], ['2024-12-05', 105, 10], ['2024-12-09', 120, 10], ['2024-12-09', 120, 7],
  ['2024-12-09', 100, 11], ['2024-12-13', 120, 10], ['2024-12-13', 120, 9], ['2024-12-18', 110, 10],
  ['2024-12-22', 110, 12], ['2024-12-25', 110, 10], ['2024-12-25', 100, 10], ['2024-12-29', 115, 12],
  ['2024-12-29', 115, 8], ['2024-12-29', 115, 7], ['2025-01-02', 115, 7], ['2025-01-02', 110, 8],
  ['2025-01-06', 100, 10], ['2025-01-06', 100, 10], ['2025-01-06', 100, 10], ['2025-01-10', 120, 8],
  ['2025-01-10', 110, 8], ['2025-01-14', 120, 10], ['2025-01-14', 120, 8], ['2025-01-14', 100, 10],
  ['2025-01-18', 122.5, 8], ['2025-01-18', 122.5, 5], ['2025-01-23', 135, 6], ['2025-01-23', 120, 5],
  ['2025-01-29', 135, 7], ['2025-02-03', 135, 6], ['2025-02-07', 135, 6], ['2025-02-11', 132.5, 7],
  ['2025-02-11', 120, 3], ['2025-02-11', 110, 10], ['2025-02-15', 135, 7], ['2025-02-15', 120, 3],
  ['2025-02-15', 100, 8], ['2025-02-19', 135, 8], ['2025-02-19', 100, 10], ['2025-02-19', 100, 8],
  ['2025-02-24', 135, 7], ['2025-02-24', 120, 9], ['2025-02-24', 120, 100], ['2025-02-24', 100, 10],
  ['2025-02-28', 135, 8], ['2025-02-28', 110, 6], ['2025-02-28', 110, 5], ['2025-03-03', 135, 8.5],
  ['2025-03-03', 120, 4], ['2025-03-10', 135, 6], ['2025-03-10', 120, 5], ['2025-03-10', 120, 6],
  ['2025-03-13', 135, 6], ['2025-03-24', 135, 6], ['2025-03-24', 120, 2], ['2025-03-24', 100, 7],
  ['2025-03-31', 140, 6], ['2025-03-31', 120, 3], ['2025-03-31', 100, 10], ['2025-03-31', 100, 7],
  ['2025-04-03', 142.5, 4], ['2025-04-03', 145, 3], ['2025-04-03', 135, 4], ['2025-04-07', 100, 8],
  ['2025-04-07', 130, 2], ['2025-04-07', 135, 6], ['2025-04-07', 120, 8], ['2025-04-07', 120, 7],
  ['2025-04-10', 140, 5], ['2025-04-10', 130, 5], ['2025-05-01', 80, 10], ['2025-05-01', 100, 6],
  ['2025-05-01', 100, 10], ['2025-05-01', 110, 4], ['2025-05-05', 60, 10], ['2025-05-05', 100, 5],
  ['2025-05-05', 110, 7], ['2025-05-12', 80, 5], ['2025-05-12', 100, 5], ['2025-05-12', 120, 6],
  ['2025-05-15', 100, 6], ['2025-05-15', 120, 5], ['2025-05-15', 125, 3], ['2025-05-20', 100, 8],
  ['2025-05-20', 120, 3], ['2025-05-20', 125, 5], ['2025-05-20', 120, 6], ['2025-05-22', 80, 10],
  ['2025-05-22', 110, 3], ['2025-05-22', 130, 5], ['2025-05-22', 130, 3], ['2025-05-22', 100, 9],
  ['2025-05-29', 60, 10], ['2025-05-29', 100, 4], ['2025-05-29', 120, 8], ['2025-05-03', 100, 5],
  ['2025-05-03', 125, 8], ['2025-05-03', 120, 8], ['2025-05-03', 100, 6], ['2025-06-06', 140, 3],
  ['2025-06-06', 150, 2], ['2025-06-06', 135, 5], ['2025-06-12', 60, 10], ['2025-06-12', 100, 6],
  ['2025-06-12', 130, 7], ['2025-06-12', 110, 7], ['2025-06-12', 110, 8], ['2025-06-12', 100, 10],
  ['2025-06-16', 120, 3], ['2025-06-16', 140, 5], ['2025-06-19', 100, 8], ['2025-06-19', 130, 1],
  ['2025-06-19', 140, 6], ['2025-06-19', 130, 5], ['2025-06-19', 120, 6], ['2025-06-23', 130, 1],
  ['2025-06-23', 140, 6], ['2025-06-23', 120, 6], ['2025-06-26', 120, 2], ['2025-06-26', 140.01, 6],
  ['2025-06-26', 140, 3], ['2025-06-26', 130, 6], ['2025-06-26', 120, 6], ['2025-06-30', 135, 7],
  ['2025-06-30', 120, 8], ['2025-07-03', 120, 2], ['2025-07-03', 142.5, 5], ['2025-07-03', 120, 5],
  ['2025-07-03', 110, 7]
];

function runAsync(sql, params = []) {
  return new Promise((resolve, reject) => {
    db.run(sql, params, function (err) {
      if (err) reject(err);
      else resolve(this);
    });
  });
}

function getAsync(sql, params = []) {
  return new Promise((resolve, reject) => {
    db.get(sql, params, function (err, row) {
      if (err) reject(err);
      else resolve(row);
    });
  });
}

function prepareAsync(sql) {
  return new Promise((resolve, reject) => {
    const stmt = db.prepare(sql, function (err) {
      if (err) reject(err);
      else resolve(stmt);
    });
  });
}

async function updateBenchPress() {
  try {
    const row = await getAsync('SELECT id FROM exercises WHERE name = ?', ['Barbell bench press']);
    if (!row) {
      console.error('Barbell bench press not found in exercises table.');
      process.exit(1);
    }
    const exerciseId = row.id;
    await runAsync('DELETE FROM workout_sets WHERE exercise_id = ?', [exerciseId]);
    console.log('Deleted existing Barbell bench press sets');
    // Group data by date
    const dateMap = {};
    DATA.forEach(([date, weight, reps]) => {
      if (!dateMap[date]) dateMap[date] = [];
      dateMap[date].push({ weight, reps });
    });
    const dates = Object.keys(dateMap).sort();
    let inserted = 0;
    await runAsync('BEGIN TRANSACTION');
    for (const date of dates) {
      let workoutRow = await getAsync('SELECT id FROM workouts WHERE date = ?', [date]);
      let workoutId;
      if (workoutRow) {
        workoutId = workoutRow.id;
      } else {
        const result = await runAsync('INSERT INTO workouts (date) VALUES (?)', [date]);
        workoutId = result.lastID;
      }
      const sets = dateMap[date];
      const stmt = await prepareAsync('INSERT INTO workout_sets (workout_id, exercise_id, weight, reps, set_number, created_at) VALUES (?, ?, ?, ?, ?, datetime("now"))');
      for (let idx = 0; idx < sets.length; idx++) {
        const set = sets[idx];
        await new Promise((resolve, reject) => {
          stmt.run(workoutId, exerciseId, set.weight, set.reps, idx + 1, function (err) {
            if (err) reject(err);
            else {
              inserted++;
              resolve();
            }
          });
        });
      }
      stmt.finalize();
    }
    await runAsync('COMMIT');
    console.log(`âœ… Updated Barbell bench press with ${inserted} sets across ${dates.length} workouts.`);
    process.exit(0);
  } catch (err) {
    console.error('Error updating Barbell bench press:', err);
    process.exit(1);
  }
}

updateBenchPress(); 