const { db } = require('../database');

// Data: [date, weight, reps] - dates already in YYYY-MM-DD format
const DATA = [
  ['2020-11-13', 100, 10], ['2020-11-13', 100, 10], ['2020-11-18', 140, 5], ['2020-11-18', 140, 0],
  ['2020-11-23', 140, 5], ['2020-11-23', 160, 3], ['2020-11-23', 160, 6], ['2020-11-28', 170, 5],
  ['2020-11-28', 175, 4], ['2020-11-28', 175, 4], ['2020-12-03', 170, 5], ['2020-12-03', 180, 5],
  ['2020-12-03', 180, 5], ['2020-12-08', 170, 3], ['2020-12-08', 170, 5], ['2020-12-14', 180, 5],
  ['2020-12-14', 180, 5], ['2020-12-25', 170, 5], ['2020-12-25', 170, 5], ['2021-01-07', 180, 5],
  ['2021-01-07', 185, 5], ['2021-01-07', 185, 5], ['2021-01-12', 180, 3], ['2021-01-12', 190, 7],
  ['2021-01-12', 190, 3], ['2021-01-17', 170, 4], ['2021-01-17', 190, 8], ['2021-01-17', 180, 5],
  ['2021-01-22', 200, 5], ['2021-01-22', 200, 2], ['2021-01-22', 160, 5], ['2021-01-28', 180, 3],
  ['2021-01-28', 205, 6], ['2021-01-28', 210, 3], ['2021-02-02', 170, 3], ['2021-02-02', 210, 5],
  ['2021-02-02', 190, 5], ['2021-02-08', 190, 3], ['2021-02-08', 210, 5], ['2021-02-08', 5, 190],
  ['2021-02-12', 210, 8], ['2021-02-22', 180, 1], ['2021-02-22', 220, 3], ['2021-02-22', 180, 1],
  ['2021-02-27', 180, 1], ['2021-02-27', 215, 5], ['2021-02-27', 215, 1], ['2021-03-04', 180, 3],
  ['2021-03-04', 220, 0], ['2021-03-04', 220, 4], ['2021-03-09', 190, 1], ['2021-03-09', 230, 4],
  ['2021-03-14', 220, 5], ['2021-03-19', 220, 3], ['2021-03-19', 190, 4], ['2021-03-19', 190, 4],
  ['2021-03-25', 225, 4], ['2021-03-25', 190, 3], ['2021-03-30', 190, 1], ['2021-03-30', 220, 3],
  ['2021-03-30', 190, 3], ['2021-04-10', 220, 1], ['2021-04-10', 220, 1], ['2021-04-15', 190, 2],
  ['2021-04-15', 210, 5], ['2021-04-15', 220, 1], ['2021-04-22', 200, 3], ['2021-04-22', 210, 5],
  ['2021-04-22', 212, 7], ['2021-05-02', 210, 3], ['2021-05-02', 222, 5], ['2021-05-07', 200, 1],
  ['2021-05-07', 220, 1], ['2021-05-12', 225, 1], ['2021-05-12', 230, 4], ['2021-05-17', 232, 3],
  ['2021-05-22', 240, 1], ['2021-05-22', 245, 1], ['2021-05-22', 190, 5], ['2021-05-29', 220, 3],
  ['2021-06-22', 160, 5], ['2021-06-22', 160, 5], ['2021-06-27', 180, 4], ['2021-06-27', 190, 7],
  ['2021-07-02', 220, 3], ['2021-07-02', 220, 1], ['2021-07-02', 180, 7], ['2021-11-13', 190, 5],
  ['2021-11-13', 190, 8], ['2021-11-18', 200, 6], ['2021-11-18', 200, 1], ['2021-11-22', 210, 5],
  ['2021-12-03', 212, 5], ['2021-12-11', 210, 1], ['2021-12-15', 217, 3], ['2021-12-15', 180, 5],
  ['2021-12-15', 180, 5], ['2021-12-20', 180, 3], ['2021-12-20', 210, 5], ['2021-12-20', 180, 5],
  ['2021-12-24', 225, 3], ['2021-12-24', 180, 6], ['2021-12-24', 180, 5], ['2021-12-28', 220, 4],
  ['2021-12-28', 180, 5], ['2021-12-28', 180, 2], ['2022-01-03', 230, 1], ['2022-01-03', 180, 5],
  ['2022-01-03', 180, 5], ['2022-01-21', 180, 5], ['2022-01-21', 180, 5], ['2022-01-26', 210, 2],
  ['2022-01-31', 180, 3], ['2022-01-31', 200, 1], ['2022-01-31', 205, 5], ['2022-02-04', 180, 2],
  ['2022-02-04', 210, 3], ['2022-02-04', 220, 4], ['2022-02-09', 180, 3], ['2022-02-09', 210, 1],
  ['2022-02-09', 225, 3], ['2022-02-15', 180, 2], ['2022-02-15', 230, 3], ['2022-02-15', 180, 5],
  ['2022-02-21', 180, 5], ['2022-02-21', 220, 1], ['2022-02-21', 240, 1], ['2022-02-26', 180, 3],
  ['2022-02-26', 220, 5], ['2022-02-26', 180, 5], ['2022-03-03', 180, 3], ['2022-03-03', 220, 3],
  ['2022-03-03', 230, 1], ['2022-03-09', 180, 3], ['2022-03-09', 210, 2], ['2022-03-09', 230, 3],
  ['2022-03-18', 180, 1], ['2022-03-18', 220, 1], ['2022-03-18', 235, 1], ['2022-03-22', 180, 5],
  ['2022-03-22', 180, 5], ['2022-03-22', 222, 5], ['2022-03-30', 200, 3], ['2022-03-30', 235, 1],
  ['2022-04-10', 180, 3], ['2022-04-10', 210, 5], ['2022-04-21', 210, 5], ['2022-04-21', 170, 5],
  ['2022-04-27', 180, 5], ['2022-04-27', 210, 3], ['2022-04-27', 220, 4], ['2022-05-03', 180, 3],
  ['2022-05-03', 220, 5], ['2022-05-03', 180, 0], ['2022-05-19', 220, 5], ['2022-05-19', 200, 3],
  ['2022-05-19', 200, 2], ['2022-05-26', 180, 3], ['2022-05-26', 180, 5], ['2022-05-26', 180, 5],
  ['2022-05-26', 180, 5], ['2022-05-31', 180, 2], ['2022-06-03', 180, 2], ['2022-06-03', 210, 3],
  ['2022-06-03', 230, 1], ['2022-06-03', 140, 5], ['2022-06-09', 180, 1], ['2022-06-09', 230, 3],
  ['2022-06-09', 230, 3], ['2022-06-09', 140, 10], ['2022-06-14', 180, 4], ['2022-06-14', 210, 1],
  ['2022-06-14', 230, 1], ['2022-06-14', 235, 1], ['2022-06-27', 180, 5], ['2022-06-27', 220, 1],
  ['2022-06-27', 180, 5], ['2022-06-27', 180, 8], ['2022-07-02', 180, 5], ['2022-07-02', 200, 5],
  ['2022-07-02', 220, 5], ['2022-07-02', 180, 5], ['2022-07-07', 180, 3], ['2022-07-07', 210, 3],
  ['2022-07-07', 230, 1], ['2022-07-11', 180, 5], ['2022-07-11', 200, 5], ['2022-07-18', 210, 3],
  ['2022-07-18', 230, 2], ['2022-07-18', 180, 5], ['2022-07-18', 180, 5], ['2022-07-28', 160, 5],
  ['2022-07-28', 190, 8], ['2022-07-28', 190, 8], ['2022-08-05', 180, 5], ['2022-08-05', 210, 3],
  ['2022-08-15', 180, 3], ['2022-08-15', 210, 3], ['2022-08-15', 220, 1], ['2022-08-21', 180, 4],
  ['2022-08-21', 200, 5], ['2022-08-21', 200, 5], ['2022-08-21', 200, 5], ['2022-09-02', 180, 5],
  ['2022-09-02', 210, 5], ['2022-09-08', 160, 3], ['2022-09-08', 190, 3], ['2022-09-08', 222, 3],
  ['2022-09-08', 210, 3], ['2022-09-26', 180, 5], ['2022-09-26', 210, 5], ['2022-09-26', 220, 3],
  ['2022-09-26', 180, 8], ['2022-09-30', 200, 5], ['2022-09-30', 210, 5], ['2022-09-30', 215, 1],
  ['2022-10-05', 190, 3], ['2022-10-05', 210, 3], ['2022-10-16', 160, 5], ['2022-10-16', 190, 5],
  ['2022-10-16', 220, 6], ['2022-10-16', 210, 5], ['2022-10-21', 180, 5], ['2022-10-21', 200, 3],
  ['2022-10-21', 220, 3], ['2022-10-21', 180, 10], ['2022-10-27', 160, 5], ['2022-10-27', 200, 5],
  ['2022-11-01', 160, 3], ['2022-11-01', 200, 3], ['2022-11-01', 210, 3], ['2022-11-08', 150, 5],
  ['2022-11-08', 220, 1], ['2022-11-08', 190, 5], ['2022-11-08', 190, 5], ['2022-11-15', 180, 3],
  ['2022-11-15', 210, 7], ['2022-12-01', 160, 4], ['2023-01-15', 180, 5], ['2023-01-15', 190, 4],
  ['2023-01-15', 200, 5], ['2023-03-06', 160, 3], ['2023-03-06', 180, 3], ['2023-03-06', 185, 4],
  ['2023-03-16', 160, 3], ['2023-03-16', 190, 4], ['2023-03-16', 190, 4], ['2023-03-23', 160, 5],
  ['2023-03-23', 190, 5], ['2023-03-23', 200, 3], ['2023-03-23', 160, 5], ['2023-04-03', 140, 3],
  ['2023-04-03', 170, 3], ['2023-04-03', 200, 4], ['2023-04-03', 170, 5], ['2023-04-10', 170, 5],
  ['2023-04-10', 190, 5], ['2023-04-10', 190, 5], ['2023-04-10', 190, 1], ['2023-04-18', 120, 4],
  ['2023-04-18', 160, 5], ['2023-04-18', 200, 5], ['2023-04-18', 160, 5], ['2023-04-24', 160, 5],
  ['2023-04-24', 190, 3], ['2023-04-24', 210, 3], ['2023-04-24', 160, 5], ['2023-05-01', 160, 5],
  ['2023-05-01', 190, 1], ['2023-05-01', 215, 1], ['2023-05-06', 160, 1], ['2023-05-06', 190, 5],
  ['2023-05-06', 190, 5], ['2023-05-06', 190, 5], ['2023-05-18', 160, 3], ['2023-05-18', 195, 5],
  ['2023-05-18', 197, 5], ['2023-06-07', 180, 3], ['2023-06-07', 200, 3], ['2023-06-07', 210, 3],
  ['2023-06-11', 160, 2], ['2023-06-11', 160, 3], ['2023-07-03', 170, 3], ['2023-07-03', 200, 3],
  ['2023-07-03', 210, 3], ['2023-07-03', 170, 8], ['2023-07-09', 170, 5], ['2023-07-09', 210, 1],
  ['2023-07-09', 225, 1], ['2023-07-09', 170, 7], ['2023-07-17', 180, 3], ['2023-07-17', 190, 6],
  ['2023-07-17', 180, 5], ['2023-07-17', 180, 5], ['2023-07-23', 210, 5], ['2023-07-23', 170, 5],
  ['2023-07-29', 180, 3], ['2023-07-29', 210, 1], ['2023-07-29', 225, 3], ['2023-07-29', 180, 5],
  ['2023-08-03', 160, 1], ['2023-08-03', 200, 1], ['2023-08-03', 230, 1], ['2023-08-03', 180, 5],
  ['2023-08-10', 210, 6], ['2023-08-17', 170, 4], ['2023-08-17', 200, 3], ['2023-08-17', 225, 0],
  ['2023-08-30', 160, 3], ['2023-08-30', 190, 3], ['2023-08-30', 220, 3], ['2023-09-14', 3, 140],
  ['2023-09-14', 3, 180], ['2023-09-21', 190, 3], ['2023-09-21', 210, 1], ['2023-09-21', 220, 1],
  ['2023-09-21', 230, 1], ['2023-10-03', 200, 3], ['2023-10-03', 220, 3], ['2023-10-03', 220, 1],
  ['2023-10-03', 180, 5], ['2023-10-13', 200, 5], ['2023-10-13', 210, 6], ['2023-10-21', 220, 3],
  ['2023-10-21', 232, 3], ['2023-10-21', 180, 10], ['2023-10-26', 220, 1], ['2023-11-01', 180, 1],
  ['2023-11-01', 220, 5], ['2023-11-01', 180, 3], ['2023-11-01', 180, 5], ['2023-11-06', 220, 1],
  ['2023-11-06', 230, 1], ['2023-11-06', 200, 2], ['2023-11-06', 170, 5], ['2023-11-12', 200, 5],
  ['2023-11-17', 160, 3], ['2023-11-17', 220, 1], ['2023-11-27', 220, 1], ['2023-12-05', 200, 2],
  ['2023-12-10', 170, 3], ['2023-12-10', 210, 5], ['2023-12-10', 210, 5], ['2023-12-30', 140, 5],
  ['2023-12-30', 160, 3], ['2023-12-30', 160, 2], ['2024-01-05', 160, 6], ['2024-01-11', 160, 3],
  ['2024-01-11', 180, 3], ['2024-01-22', 180, 3], ['2024-01-22', 200, 3], ['2024-01-22', 200, 3],
  ['2024-01-22', 200, 3], ['2024-01-29', 190, 3], ['2024-01-29', 210, 5], ['2024-01-29', 210, 5],
  ['2024-02-03', 180, 3], ['2024-02-03', 180, 5], ['2024-02-14', 220, 3], ['2024-02-19', 160, 5],
  ['2024-02-19', 160, 5], ['2024-02-24', 232, 1], ['2024-02-24', 180, 5], ['2024-02-24', 180, 5],
  ['2024-03-07', 210, 1], ['2024-03-07', 225, 2], ['2024-03-13', 200, 1], ['2024-03-13', 215, 5],
  ['2024-03-19', 190, 1], ['2024-03-19', 210, 1], ['2024-03-19', 220, 3], ['2024-03-26', 180, 1],
  ['2024-03-26', 190, 1], ['2024-03-26', 220, 1], ['2024-04-03', 200, 1], ['2024-04-03', 160, 5],
  ['2024-04-08', 180, 2], ['2024-04-19', 200, 2], ['2024-04-19', 150, 3], ['2024-04-19', 150, 3],
  ['2024-04-23', 210, 2], ['2024-04-23', 210, 1], ['2024-04-28', 200, 1], ['2024-05-03', 210, 4],
  ['2024-05-03', 215, 4], ['2024-05-08', 210, 1], ['2024-05-08', 220, 1], ['2024-05-13', 210, 3],
  ['2024-05-13', 180, 5], ['2024-05-18', 220, 4], ['2024-05-18', 220, 1], ['2024-05-18', 180, 5],
  ['2024-05-29', 200, 5], ['2024-05-29', 210, 5], ['2024-05-29', 160, 5], ['2024-06-03', 200, 3],
  ['2024-06-03', 222.5, 3], ['2024-06-04', 217.5, 5], ['2024-06-04', 182.5, 3], ['2024-06-08', 210, 1],
  ['2024-06-08', 235, 1], ['2024-06-08', 180, 11], ['2024-06-13', 200, 2], ['2024-06-13', 215, 5],
  ['2024-06-18', 200, 1], ['2024-06-18', 225, 3], ['2024-06-22', 240, 1], ['2024-06-22', 180, 12],
  ['2024-07-07', 200, 5], ['2024-07-07', 200, 5], ['2024-07-07', 200, 3], ['2024-07-13', 222.5, 4],
  ['2024-07-13', 200, 5], ['2024-07-13', 200, 5], ['2024-07-13', 200, 4], ['2024-07-18', 235, 1],
  ['2024-07-18', 200, 5], ['2024-07-18', 200, 5], ['2024-07-18', 200, 5], ['2024-07-22', 220, 5],
  ['2024-07-22', 200, 2], ['2024-07-27', 232.5, 3], ['2024-07-27', 200, 5], ['2024-08-01', 237.5, 1],
  ['2024-08-01', 220, 1], ['2024-08-01', 200, 5], ['2024-08-05', 222.5, 5], ['2024-08-05', 200, 1],
  ['2024-08-10', 240, 2], ['2024-08-10', 200, 5], ['2024-08-15', 225, 5], ['2024-08-15', 200, 1],
  ['2024-08-15', 150, 5], ['2024-08-24', 235, 3], ['2024-08-24', 200, 5], ['2024-08-24', 200, 1],
  ['2024-08-28', 227, 3], ['2024-08-28', 200, 3], ['2024-09-01', 150, 0], ['2024-09-01', 150, 8],
  ['2024-09-11', 200, 1], ['2024-09-16', 225, 4], ['2024-09-16', 200, 3], ['2024-09-16', 200, 3],
  ['2024-09-16', 180, 5], ['2024-09-25', 230, 2], ['2024-09-25', 200, 3], ['2024-09-25', 200, 3],
  ['2024-09-25', 200, 3], ['2024-09-29', 222.5, 5], ['2024-09-29', 200, 1], ['2024-10-04', 232, 3],
  ['2024-10-04', 190, 10], ['2024-10-09', 225, 5], ['2024-10-09', 200, 1], ['2024-10-13', 235, 3],
  ['2024-10-22', 225, 5], ['2024-10-26', 190, 4], ['2024-10-30', 237.5, 2], ['2024-10-30', 190, 5],
  ['2024-11-03', 227.5, 5], ['2024-11-08', 237, 1], ['2024-11-08', 200, 2], ['2024-11-08', 170, 5],
  ['2024-11-12', 230, 3], ['2024-11-12', 190, 10], ['2024-11-21', 220, 0], ['2024-11-21', 250, 0],
  ['2024-11-26', 230, 4], ['2024-11-26', 180, 10], ['2024-11-30', 210, 1], ['2024-11-30', 240, 3],
  ['2024-11-30', 180, 15], ['2024-12-12', 210, 6], ['2024-12-16', 220, 4], ['2024-12-24', 200, 1],
  ['2024-12-28', 200, 3], ['2024-12-28', 210, 7], ['2025-01-01', 210, 9], ['2025-01-05', 215, 1],
  ['2025-01-09', 210, 9], ['2025-01-17', 210, 9], ['2025-01-22', 212, 1], ['2025-01-22', 150, 3],
  ['2025-01-28', 210, 10], ['2025-02-01', 210, 2], ['2025-02-01', 230, 2], ['2025-02-06', 220, 4],
  ['2025-02-06', 160, 5], ['2025-02-10', 215, 1], ['2025-02-10', 100, 5], ['2025-02-10', 100, 5],
  ['2025-02-14', 210, 5], ['2025-02-18', 210, 9], ['2025-02-18', 210, 1], ['2025-02-22', 210, 5],
  ['2025-03-15', 210, 4], ['2025-03-23', 210, 9], ['2025-03-23', 190, 3], ['2025-03-30', 180, 2],
  ['2025-03-30', 210, 5], ['2025-03-30', 180, 3], ['2025-04-06', 190, 2], ['2025-04-06', 210, 1],
  ['2025-05-03', 150, 5], ['2025-05-03', 180, 4], ['2025-05-11', 110, 5], ['2025-05-11', 160, 3],
  ['2025-05-11', 190, 3], ['2025-05-11', 190, 2], ['2025-05-17', 160, 5], ['2025-05-17', 190, 6],
  ['2025-05-25', 60, 10], ['2025-05-25', 100, 10], ['2025-05-25', 140, 4], ['2025-05-25', 180, 4],
  ['2025-05-25', 190, 5], ['2025-05-28', 150, 5], ['2025-05-28', 200, 6], ['2025-05-28', 200, 5],
  ['2025-06-15', 180, 5], ['2025-06-15', 200, 6], ['2025-06-22', 180, 5], ['2025-06-22', 210, 5],
  ['2025-06-22', 210, 3], ['2025-06-28', 190, 8], ['2025-06-28', 195, 3], ['2025-07-06', 190, 3]
];

async function updateDeadlift() {
  db.get('SELECT id FROM exercises WHERE name = ?', ['Deadlift'], (err, row) => {
    if (err || !row) {
      console.error('Deadlift not found in exercises table.');
      process.exit(1);
    }
    const exerciseId = row.id;
    
    // Delete all existing sets for this exercise
    db.run('DELETE FROM workout_sets WHERE exercise_id = ?', [exerciseId], (err) => {
      if (err) throw err;
      console.log('Deleted existing Deadlift sets');
      
      // Group data by date
      const dateMap = {};
      DATA.forEach(([date, weight, reps]) => {
        if (!dateMap[date]) dateMap[date] = [];
        dateMap[date].push({ weight, reps });
      });
      
      // For each date, create a workout and insert sets
      const dates = Object.keys(dateMap).sort();
      let inserted = 0;
      let processed = 0;
      
      dates.forEach(date => {
        db.run('INSERT INTO workouts (date) VALUES (?)', [date], function (err) {
          if (err) throw err;
          const workoutId = this.lastID;
          const sets = dateMap[date];
          
          const stmt = db.prepare('INSERT INTO workout_sets (workout_id, exercise_id, weight, reps, set_number, created_at) VALUES (?, ?, ?, ?, ?, datetime("now"))');
          sets.forEach((set, idx) => {
            stmt.run(workoutId, exerciseId, set.weight, set.reps, idx + 1);
            inserted++;
          });
          stmt.finalize();
          
          processed++;
          if (processed === dates.length) {
            console.log(`âœ… Updated Deadlift with ${inserted} sets across ${dates.length} workouts.`);
            process.exit(0);
          }
        });
      });
    });
  });
}

updateDeadlift(); 